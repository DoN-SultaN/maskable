{"version":3,"file":"file-drop-element.js","sources":["../node_modules/file-drop-element/dist/filedrop.mjs"],"sourcesContent":["function t(t,e,i){const s=Array.from(t);let r;if(\"\"===e)return r=s.filter(t=>\"file\"===t.kind),i?r:[r[0]];const n=e.toLowerCase().split(\",\").map(t=>t.split(\"/\").map(t=>t.trim())).filter(t=>2===t.length);return r=r=s.filter(t=>{if(\"file\"!==t.kind)return!1;const[e,i]=t.type.toLowerCase().split(\"/\").map(t=>t.trim());for(const[t,s]of n)if(e===t&&(\"*\"===s||i===s))return!0;return!1}),!1===i&&(r=[r[0]]),r}function e(e,i,s){const r=[];return t(e.items,i,s).forEach(t=>{const e=t.getAsFile();null!==e&&r.push(e)}),r}class i extends Event{constructor(t,e){var s,r;super(t,e),(s=this)instanceof(r=i)||Object.setPrototypeOf(s,r.prototype),this._files=e.files,this._action=e.action}get action(){return this._action}get files(){return this._files}}class s extends HTMLElement{constructor(){super(),this._dragEnterCount=0,this._onDragEnter=this._onDragEnter.bind(this),this._onDragLeave=this._onDragLeave.bind(this),this._onDrop=this._onDrop.bind(this),this._onPaste=this._onPaste.bind(this),this.addEventListener(\"dragover\",t=>t.preventDefault()),this.addEventListener(\"drop\",this._onDrop),this.addEventListener(\"dragenter\",this._onDragEnter),this.addEventListener(\"dragend\",()=>this._reset()),this.addEventListener(\"dragleave\",this._onDragLeave),this.addEventListener(\"paste\",this._onPaste)}get accept(){return this.getAttribute(\"accept\")||\"\"}set accept(t){this.setAttribute(\"accept\",t)}get multiple(){return this.getAttribute(\"multiple\")}set multiple(t){this.setAttribute(\"multiple\",t||\"\")}_onDragEnter(e){if(this._dragEnterCount+=1,this._dragEnterCount>1)return;if(null===e.dataTransfer)return void this.classList.add(\"drop-invalid\");const i=t(e.dataTransfer.items,this.accept,null!==this.multiple);this.classList.add(!e.dataTransfer||!e.dataTransfer.items.length||void 0!==i[0]?\"drop-valid\":\"drop-invalid\")}_onDragLeave(){this._dragEnterCount-=1,0===this._dragEnterCount&&this._reset()}_onDrop(t){if(t.preventDefault(),null===t.dataTransfer)return;this._reset();const s=e(t.dataTransfer,this.accept,null!==this.multiple);void 0!==s&&this.dispatchEvent(new i(\"filedrop\",{action:\"drop\",files:s}))}_onPaste(t){const s=e(t.clipboardData,this.accept,void 0!==this.multiple);void 0!==s&&this.dispatchEvent(new i(\"filedrop\",{action:\"paste\",files:s}))}_reset(){this._dragEnterCount=0,this.classList.remove(\"drop-valid\"),this.classList.remove(\"drop-invalid\")}}customElements.define(\"file-drop\",s);export{i as FileDropEvent,s as FileDropElement};\n//# sourceMappingURL=filedrop.mjs.map\n"],"names":["list","acceptVal","multiple","dataItems","Array","from","results","filter","item","kind","accepts","toLowerCase","split","map","accept","part","trim","acceptParts","length","typeMain","typeSub","type","s","acceptMain","acceptSub","data","files","getMatchingItems","items","forEach","file","getAsFile","push","Event","[object Object]","typeArg","eventInitDict","instance","super","this","FileDropEvent","Object","setPrototypeOf","prototype","_files","_action","action","HTMLElement","_onDragEnter","bind","_onDragLeave","_onDrop","_onPaste","addEventListener","event","preventDefault","_reset","getAttribute","val","setAttribute","_dragEnterCount","dataTransfer","classList","add","matchingFiles","undefined","getFileData","dispatchEvent","clipboardData","remove","customElements","define","FileDropElement"],"mappings":"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"}